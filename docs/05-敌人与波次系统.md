# Brotato 敌人与波次系统详解

> 本文档详细记录《Brotato》中所有敌人类型、Boss、波次设计和难度系统。

---

## 一、敌人系统概述

### 1.1 敌人分类

| 类型 | 数量 | 特点 |
|------|------|------|
| **普通敌人** | 15种 | 基础属性，大量出现 |
| **精英敌人** | 10种 | 黄色轮廓，属性强化 |
| **Boss** | 6种 | 红色轮廓，特殊技能 |
| **特殊敌人** | 5种 | 特殊行为模式 |

### 1.2 敌人属性

每个敌人具有以下属性：
- **生命值 (HP)**：血量
- **伤害 (Damage)**：攻击造成的伤害
- **速度 (Speed)**：移动速度
- **护甲 (Armor)**：伤害减免
- **攻击间隔**：攻击冷却
- **经验值**：击杀获得的经验
- **材料掉落**：击杀获得的材料

---

## 二、普通敌人 (15种)

### 2.1 虫类敌人

| 敌人名称 | 基础HP | 伤害 | 速度 | 护甲 | 经验 | 特点 |
|----------|--------|------|------|------|------|------|
| **小虫 (Bug)** | 5 | 3 | 快 | 0 | 1 | 基础敌人，成群出现 |
| **大虫 (Big Bug)** | 15 | 5 | 中 | 0 | 2 | 较大型虫类 |
| **飞虫 (Flying Bug)** | 8 | 4 | 极快 | 0 | 1 | 飞行，速度快 |
| **毒虫 (Poison Bug)** | 10 | 3 | 中 | 0 | 2 | 攻击附带中毒 |
| **分裂虫 (Splitting Bug)** | 20 | 4 | 慢 | 0 | 3 | 死亡分裂成2只小虫 |

### 2.2 士兵类敌人

| 敌人名称 | 基础HP | 伤害 | 速度 | 护甲 | 经验 | 特点 |
|----------|--------|------|------|------|------|------|
| **外星兵 (Alien Soldier)** | 20 | 6 | 中 | 1 | 3 | 基础远程敌人 |
| **精英兵 (Elite Soldier)** | 35 | 8 | 中 | 2 | 5 | 三连发射击 |
| **重装兵 (Heavy Soldier)** | 50 | 10 | 慢 | 5 | 8 | 高护甲 |
| **狙击兵 (Sniper)** | 15 | 15 | 慢 | 0 | 4 | 远距离高伤害 |

### 2.3 特殊敌人

| 敌人名称 | 基础HP | 伤害 | 速度 | 护甲 | 经验 | 特点 |
|----------|--------|------|------|------|------|------|
| **刺客 (Assassin)** | 12 | 12 | 极快 | 0 | 3 | 突进攻击 |
| **坦克 (Tank)** | 80 | 8 | 极慢 | 8 | 10 | 超高护甲 |
| **爆破者 (Bomber)** | 25 | 20 | 中 | 0 | 4 | 死亡爆炸，范围伤害 |
| **治疗者 (Healer)** | 30 | 0 | 中 | 0 | 5 | 治疗附近敌人 |
| **召唤者 (Summoner)** | 40 | 0 | 慢 | 0 | 8 | 召唤小虫 |
| **护盾者 (Shielder)** | 35 | 5 | 中 | 0 | 6 | 给附近敌人护盾 |

---

## 三、精英敌人 (10种)

> 精英敌人以**黄色轮廓**标识，属性大幅强化

### 3.1 精英属性倍率

| 属性 | 倍率 |
|------|------|
| 生命值 | ×3.0 |
| 伤害 | ×1.5 |
| 经验 | ×5.0 |
| 材料 | ×3.0 |

### 3.2 精英敌人列表

| 精英名称 | 基础敌人 | 特殊能力 | 额外属性 |
|----------|----------|----------|----------|
| **精英虫 (Elite Bug)** | 大虫 | 死亡分裂成4只小虫 | 速度+20% |
| **精英兵 (Elite Soldier)** | 外星兵 | 五连发射击 | 护甲+3 |
| **精英坦克 (Elite Tank)** | 坦克 | 冲撞攻击 | 护甲+5 |
| **精英刺客 (Elite Assassin)** | 刺客 | 连续突进3次 | 伤害+50% |
| **精英狙击 (Elite Sniper)** | 狙击兵 | 贯穿射击 | 范围+100 |
| **精英爆破 (Elite Bomber)** | 爆破者 | 爆炸范围×2 | HP+50% |
| **精英治疗 (Elite Healer)** | 治疗者 | 范围治疗 | 治疗量×2 |
| **精英召唤 (Elite Summoner)** | 召唤者 | 召唤精英虫 | 召唤速度×2 |
| **精英护盾 (Elite Shielder)** | 护盾者 | 自带护盾 | 护盾量×3 |
| **精英飞虫 (Elite Flying)** | 飞虫 | 闪避30% | 速度+30% |

---

## 四、Boss (6种)

> Boss以**红色轮廓**标识，拥有特殊技能和超高属性

### 4.1 Boss出现规则

| 波次 | Boss数量 | Boss类型 |
|------|----------|----------|
| 5 | 1 | 虫母 |
| 10 | 1 | 机械战士 |
| 15 | 2 | 虫母 + 外星领主 |
| 20 | 3 | 最终Boss + 2随机 |

### 4.2 Boss详细信息

#### Boss 1: 虫母 (Bug Queen)

| 属性 | 数值 |
|------|------|
| **HP** | 150 + 50×波次 |
| **伤害** | 8 |
| **速度** | 慢 |
| **护甲** | 3 |
| **经验** | 50 |
| **材料** | 25 |

| 技能 | 描述 |
|------|------|
| **召唤** | 每5秒召唤3只小虫 |
| **冲撞** | 周期性向玩家冲撞 |
| **产卵** | HP<50%时加速召唤 |

#### Boss 2: 机械战士 (Mech Warrior)

| 属性 | 数值 |
|------|------|
| **HP** | 250 + 75×波次 |
| **伤害** | 12 |
| **速度** | 中 |
| **护甲** | 8 |
| **经验** | 80 |
| **材料** | 40 |

| 技能 | 描述 |
|------|------|
| **激光扫射** | 360度激光，需要闪避 |
| **导弹** | 发射追踪导弹 |
| **护盾** | 周期性生成护盾 |

#### Boss 3: 外星领主 (Alien Lord)

| 属性 | 数值 |
|------|------|
| **HP** | 200 + 60×波次 |
| **伤害** | 15 |
| **速度** | 中 |
| **护甲** | 5 |
| **经验** | 70 |
| **材料** | 35 |

| 技能 | 描述 |
|------|------|
| **传送** | 随机传送 |
| **能量球** | 发射大型能量球 |
| **增援** | 召唤精英兵 |

#### Boss 4: 巨型坦克 (Mega Tank)

| 属性 | 数值 |
|------|------|
| **HP** | 400 + 100×波次 |
| **伤害** | 20 |
| **速度** | 极慢 |
| **护甲** | 15 |
| **经验** | 100 |
| **材料** | 50 |

| 技能 | 描述 |
|------|------|
| **炮击** | 范围爆炸攻击 |
| **碾压** | 缓慢追踪碾压 |
| **电磁脉冲** | 使玩家减速 |

#### Boss 5: 暗影刺客 (Shadow Assassin)

| 属性 | 数值 |
|------|------|
| **HP** | 180 + 40×波次 |
| **伤害** | 25 |
| **速度** | 极快 |
| **护甲** | 0 |
| **经验** | 90 |
| **材料** | 45 |

| 技能 | 描述 |
|------|------|
| **隐身** | 周期性隐身 |
| **连斩** | 连续攻击3次 |
| **分身** | HP<30%时创造分身 |

#### Boss 6: 最终Boss - 外星母舰 (Mothership)

| 属性 | 数值 |
|------|------|
| **HP** | 500 + 150×难度 |
| **伤害** | 30 |
| **速度** | 静止 |
| **护甲** | 10 |
| **经验** | 200 |
| **材料** | 100 |

| 技能 | 描述 |
|------|------|
| **全屏激光** | 需要躲避的激光阵 |
| **召唤舰队** | 持续召唤各类敌人 |
| **能量风暴** | 全屏伤害，需要高HP/护甲 |
| **护盾再生** | HP<50%时每10秒恢复护盾 |

---

## 五、波次系统

### 5.1 波次时间表

| 波次 | 持续时间 | 基础敌人数 | 特殊事件 |
|------|----------|------------|----------|
| 1 | 20秒 | 15 | 仅小虫 |
| 2 | 25秒 | 20 | 引入大虫 |
| 3 | 30秒 | 25 | 引入士兵 |
| 4 | 35秒 | 30 | 引入刺客 |
| 5 | 40秒 | 35 | **虫母Boss** |
| 6 | 45秒 | 40 | 引入精英 |
| 7 | 50秒 | 45 | 多精英 |
| 8 | 55秒 | 50 | 引入爆破者 |
| 9 | 60秒 | 55 | 多爆破者 |
| 10 | 65秒 | 60 | **机械战士Boss** |
| 11 | 65秒 | 65 | 引入治疗者 |
| 12 | 70秒 | 70 | 引入召唤者 |
| 13 | 70秒 | 75 | 多召唤者 |
| 14 | 75秒 | 80 | 精英密集 |
| 15 | 75秒 | 85 | **双Boss** |
| 16 | 80秒 | 90 | 引入坦克 |
| 17 | 80秒 | 95 | 多坦克 |
| 18 | 85秒 | 100 | 精英+坦克 |
| 19 | 85秒 | 105 | 全敌人类型 |
| 20 | 90秒 | 110 | **最终Boss** |

### 5.2 敌人刷新机制

```
刷新间隔 = 基础间隔 / (1 + 波次×0.05)
基础间隔 = 2.0秒

波次1刷新间隔 ≈ 1.9秒
波次10刷新间隔 ≈ 1.33秒
波次20刷新间隔 ≈ 1.0秒
```

### 5.3 敌人类型权重

| 波次范围 | 虫类 | 士兵 | 特殊 | 精英 |
|----------|------|------|------|------|
| 1-4 | 80% | 15% | 5% | 0% |
| 5-9 | 60% | 25% | 10% | 5% |
| 10-14 | 40% | 30% | 20% | 10% |
| 15-19 | 30% | 30% | 25% | 15% |
| 20 | 25% | 30% | 25% | 20% |

---

## 六、敌人属性缩放

### 6.1 波次缩放公式

```
敌人HP = 基础HP × (1 + 波次×0.12)
敌人伤害 = 基础伤害 × (1 + 波次×0.08)
敌人速度 = 基础速度 × (1 + 波次×0.02)
```

### 6.2 难度等级缩放

| 难度 | HP倍率 | 伤害倍率 | 数量倍率 | 精英率 |
|------|--------|----------|----------|--------|
| 0 | ×0.5 | ×0.5 | ×0.7 | ×0.5 |
| 1 | ×1.0 | ×1.0 | ×1.0 | ×1.0 |
| 2 | ×1.25 | ×1.15 | ×1.15 | ×1.2 |
| 3 | ×1.5 | ×1.3 | ×1.3 | ×1.4 |
| 4 | ×1.8 | ×1.5 | ×1.5 | ×1.6 |
| 5 | ×2.2 | ×1.75 | ×1.75 | ×2.0 |

### 6.3 示例计算

**波次15，难度3的大虫属性：**
```
HP = 15 × (1 + 15×0.12) × 1.5 = 15 × 2.8 × 1.5 = 63
伤害 = 5 × (1 + 15×0.08) × 1.3 = 5 × 2.2 × 1.3 = 14.3
```

---

## 七、敌人AI行为

### 7.1 行为类型

| 行为 | 描述 | 使用敌人 |
|------|------|----------|
| **追踪** | 直接向玩家移动 | 虫类、刺客 |
| **射击** | 保持距离攻击 | 士兵、狙击 |
| **环绕** | 绕着玩家移动 | 飞虫 |
| **冲锋** | 积蓄后冲向玩家 | 刺客、坦克 |
| **逃离** | 远离玩家 | 治疗者、召唤者 |
| **群体** | 与同类保持距离 | 所有虫类 |

### 7.2 攻击模式

| 模式 | 描述 |
|------|------|
| **接触** | 碰到玩家造成伤害 |
| **投射** | 发射子弹 |
| **范围** | 圆形范围伤害 |
| **持续** | 持续造成伤害（燃烧等） |

### 7.3 特殊行为

| 行为 | 触发条件 | 效果 |
|------|----------|------|
| **狂暴** | HP<30% | 攻速+50% |
| **召唤** | 每10秒 | 生成小怪 |
| **治疗** | 附近有受伤敌人 | 恢复HP |
| **护盾** | 每15秒 | 生成护盾 |
| **传送** | 随机 | 改变位置 |

---

## 八、掉落系统

### 8.1 经验值掉落

| 敌人类型 | 基础经验 | 说明 |
|----------|----------|------|
| 小虫 | 1 | 最基础 |
| 普通敌人 | 2-5 | 根据类型 |
| 精英敌人 | 10-25 | 5倍基础 |
| Boss | 50-200 | 大量经验 |

### 8.2 材料掉落

```
掉落量 = 基础掉落 × (1 + 收获%/100)
掉落概率 = 基础概率 × (1 + 幸运%/100)
```

| 敌人类型 | 掉落概率 | 掉落量 |
|----------|----------|--------|
| 小虫 | 60% | 1 |
| 普通敌人 | 80% | 1-2 |
| 精英敌人 | 100% | 3-5 |
| Boss | 100% | 20-50 |

### 8.3 特殊掉落

| 掉落物 | 概率 | 来源 |
|--------|------|------|
| 消耗品 | 3% | 所有敌人 |
| 箱子 | 0.5% | 所有敌人 |
| 武器 | 1% | 精英/Boss |

---

## 九、无尽模式

### 9.1 解锁条件
- 通关第20波后解锁

### 9.2 无尽模式规则

| 波次 | 时间 | 难度增幅 |
|------|------|----------|
| 21-30 | 90秒 | +10%/波 |
| 31-40 | 90秒 | +15%/波 |
| 41-50 | 90秒 | +20%/波 |
| 51+ | 90秒 | +25%/波 |

### 9.3 无尽模式Boss

| 波次 | Boss配置 |
|------|----------|
| 25 | 2×随机Boss |
| 30 | 3×随机Boss |
| 35 | 4×随机Boss |
| 40+ | 5×随机Boss |

---

## 十、难度系统详解

### 10.1 难度等级解锁

| 等级 | 解锁条件 |
|------|----------|
| 难度0 | 默认 |
| 难度1 | 通关一次 |
| 难度2 | 难度1通关 |
| 难度3 | 难度2通关 |
| 难度4 | 难度3通关 |
| 难度5 | 难度4通关 |

### 10.2 难度奖励

| 难度 | 经验加成 | 材料加成 | 解锁奖励 |
|------|----------|----------|----------|
| 0 | ×0.5 | ×0.5 | 无 |
| 1 | ×1.0 | ×1.0 | 解锁新角色 |
| 2 | ×1.1 | ×1.1 | 解锁新道具 |
| 3 | ×1.2 | ×1.2 | 解锁新武器 |
| 4 | ×1.3 | ×1.3 | 解锁隐藏角色 |
| 5 | ×1.5 | ×1.5 | 解锁全部内容 |

---

> 本文档记录了敌人系统和波次设计的所有细节，持续更新中。

