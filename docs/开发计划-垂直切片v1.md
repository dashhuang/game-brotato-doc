# 星河舰长 - 垂直切片开发计划 v1

> **目标**：用最小可行内容验证核心玩法、美术表现和UI体验

---

## 🎯 VS核心验证目标

> **VS不追求深度，专注验证技术实现**

| 验证目标 | 优先级 | 说明 |
|----------|--------|------|
| **10种武器效果** | ⭐⭐⭐⭐⭐ | 直射/追踪/穿透/AOE/连锁/DOT/击退/召唤/高射速/高伤害 |
| **多武器同射** | ⭐⭐⭐⭐⭐ | 6把武器同时射击的视觉爽感 |
| **战斗循环** | ⭐⭐⭐⭐ | 战斗→补给站→战斗 |
| **敌人AI** | ⭐⭐⭐ | 追踪/远程/自爆 |
| **模块系统** | ⭐⭐⭐ | 属性加成正确生效 |
| **Boss战** | ⭐⭐ | 简易Boss体验 |

**VS不验证**：角色深度、经济策略、Build多样性（留给后续版本）

---

## 📋 垂直切片概述

### 什么是垂直切片？

垂直切片是一个**功能完整但内容精简**的可玩版本：
- ✅ 所有核心系统都能运行
- ✅ 一局完整游戏可以体验
- ✅ 不同Build构建有区分度
- ✅ **美术风格可验证**
- ✅ **UI/UX体验可验证**
- ✅ **多平台适配可验证**

---

## 🖥️ 技术规格

### 渲染方案

| 项目 | 规格 | 说明 |
|------|------|------|
| **渲染技术** | 3D渲染 | 使用3D模型和场景 |
| **视角玩法** | 横版2D | 固定视角，左右移动为主 |
| **摄像机** | 正交/透视可切换 | 正交更接近2D感，透视更有深度 |
| **美术风格** | 二次元太空战舰 | 卡通渲染/NPR风格 |

### 平台支持

| 平台 | 优先级 | 适配要求 |
|------|--------|----------|
| **PC (Windows/Mac)** | ⭐⭐⭐⭐⭐ | 主开发平台，键鼠操作 |
| **手机 (iOS/Android)** | ⭐⭐⭐⭐⭐ | 触屏操作，摇杆控制 |
| **平板** | ⭐⭐⭐☆☆ | 介于手机和PC之间 |

### 操作适配

| 平台 | 移动控制 | 其他操作 |
|------|----------|----------|
| **PC** | 键盘WASD/方向键 | 鼠标点击UI |
| **手机** | 虚拟摇杆（左侧） | 触摸点击UI |
| **通用** | 手柄支持 | 摇杆+按钮 |

### 分辨率适配

| 设备 | 分辨率范围 | UI缩放 |
|------|------------|--------|
| 手机竖屏 | 不支持 | - |
| 手机横屏 | 1920×1080 ~ 2400×1080 | 自适应 |
| 平板 | 2048×1536 ~ 2732×2048 | 自适应 |
| PC | 1920×1080 ~ 3840×2160 | 可调节 |

### UI响应式布局

| 要求 | 说明 |
|------|------|
| **锚点布局** | UI元素使用锚点定位，适应不同屏幕比例 |
| **安全区域** | 适配刘海屏/挖孔屏，UI不被遮挡 |
| **元素缩放** | 按钮/文字根据屏幕DPI自动缩放 |
| **布局重排** | 窄屏（手机）和宽屏（PC）使用不同布局方案 |
| **最小触控** | 触屏按钮最小44×44pt，保证点击舒适 |

---

## 🎯 验证目标

### 玩法验证

| 目标 | 验证内容 | 成功标准 |
|------|----------|----------|
| **武器效果** | 10种效果类型 | 🔑 **每种效果正确实现** |
| **多武器射击** | 6把武器同时射击 | 视觉爽感，性能稳定 |
| **战斗循环** | 战斗→补给站→战斗 | 循环流畅 |
| **敌人AI** | 追踪/远程/自爆 | 行为可区分 |

### 美术验证

| 目标 | 验证内容 | 成功标准 |
|------|----------|----------|
| **武器特效** | 10种武器效果特效 | 🔑 **类型可区分，视觉爽感** |
| **3D战舰表现** | 战舰模型 | 风格明确 |
| **敌舰设计** | 4种敌人外观 | 可区分 |
| **场景深度** | 太空背景 | 有层次感 |

### UI/UX验证

| 目标 | 验证内容 | 成功标准 |
|------|----------|----------|
| **战斗HUD** | 护盾/武器/晶体显示 | 信息清晰，不遮挡战斗 |
| **补给站UI** | 物品展示/购买/刷新 | 操作直观，触屏友好 |
| **舰桥升级** | 4选1属性界面 | 选择明确，反馈清晰 |
| **手机适配** | 虚拟摇杆+触屏按钮 | 操作舒适，不误触 |
| **PC适配** | 键鼠操作 | 响应灵敏，快捷键合理 |

---

## 🚀 内容精选

> **VS核心目标**：验证不同武器效果的实现，而非追求内容深度

### 1. 战舰（2艘）

VS版本只需要最基础的战舰来验证战斗：

| 战舰 | 舰长 | 定位 | 入选理由 |
|------|------|------|----------|
| **SSA-01 先锋号** | 林晓雪 | 通用型 | 无负面，专注验证武器效果 |
| **SSA-10 多面号** | 千变·伊芙 | 多武器 | 验证6武器同时射击的视觉表现 |

**战舰配置**：

#### SSA-01 先锋号（默认）
- 初始武器：速射力场
- 加成：引擎+5%，护盾+5
- 减益：无
- **VS用途**：测试所有武器类型

#### SSA-10 多面号（可选）
- 初始武器：速射力场 ×2
- 加成：武器槽位6个（VS简化版）
- 减益：无（VS简化版不设惩罚）
- **VS用途**：测试多武器同时射击的视觉爽感

---

### 2. 武器（10种）| 🔑 按效果类型划分

**VS核心验证目标**：每种武器效果类型都能正确实现

| 效果类型 | 武器 | 伤害 | 冷却 | 射程 | 技术验证点 |
|----------|------|------|------|------|------------|
| **直射** | 速射力场 | 8 | 0.69s | 3 GU | 基础射击、伤害计算 |
| **弹道** | 追踪导弹 | 12 | 0.81s | 15 GU | 追踪算法 |
| **穿透** | 激光狙击 | 30 | 1.15s | 40 GU | 射线检测、全屏贯穿 |
| **AOE** | 集束导弹 | 15 | 0.69s | 12 GU（爆2GU）| 范围伤害计算 |
| **连锁** | 离子连锁炮 | 8 | 0.46s | 8 GU | 连锁跳跃逻辑（跳跃3GU）|
| **DOT** | 等离子喷射器 | 6 | 0.35s | 4 GU | 持续伤害、状态管理 |
| **击退** | 冲击脉冲 | 12 | 0.69s | 3 GU | 物理推力（击退1.5GU）|
| **召唤** | 战斗无人机 | 10 | 0.58s | 跟随6GU | AI跟随、独立攻击逻辑 |
| **高射速** | 风暴力场 | 5 | 0.25s | 3 GU | 性能压力测试 |
| **高伤害** | 重型鱼雷 | 35 | 1.38s | 20 GU | 单发高伤、命中反馈 |

**🔑 武器效果验证清单**：

```
□ 直射：子弹从战舰发射→直线飞行→命中敌舰→造成伤害（单体）
□ 弹道：导弹发射→追踪最近敌舰→命中（单体）
□ 穿透：激光射出→穿过所有敌舰→每个都受伤（多体）
□ AOE：导弹命中→爆炸范围内所有敌舰受伤（多体）
□ 连锁：命中第一个→自动跳到第二个→跳到第三个（多体）
□ DOT：命中→敌舰持续掉血3秒→死亡或结束
□ 击退：命中→敌舰被推开一段距离
□ 召唤：无人机跟随战舰→自动攻击最近敌舰（单体）
□ 高射速：0.25秒射一发→屏幕上大量子弹→性能稳定
□ 高伤害：命中→大数字反馈→敌舰明显受创
```

**🔑 单体 vs AOE 命中机制**：

| 武器类型 | 默认命中 | VS验证武器 |
|----------|----------|------------|
| **近程（力场）** | **AOE** | 速射力场（范围内全命中） |
| **导弹** | **单体** | 追踪导弹（1发1目标） |
| **导弹+爆炸** | **AOE** | 集束导弹（爆炸范围全命中） |
| **激光** | **单体** | 等离子喷射器（1发1目标） |
| **激光+穿透** | **多体** | 激光狙击（贯穿全屏） |
| **连锁** | **多体** | 离子连锁炮（跳跃3目标） |
| **召唤** | **单体** | 战斗无人机（1次攻击1目标） |

**视觉效果验证**：

| 效果类型 | 需要的视觉表现 |
|----------|----------------|
| 直射 | 子弹拖尾、命中火花 |
| 追踪 | 导弹烟雾、转向轨迹 |
| 穿透 | 贯穿光线、多段命中 |
| AOE | 爆炸特效、范围指示 |
| 连锁 | 闪电/能量链接线 |
| DOT | 燃烧/中毒状态特效 |
| 击退 | 冲击波、位移反馈 |
| 召唤 | 无人机模型、攻击特效 |

---

### 3. 模块（8种）| 最小验证集

VS版本只需验证模块系统能正常工作：

| 模块 | 效果 | 价格 | 验证目的 |
|------|------|------|----------|
| **弹道计算机** | 火力+10% | 25 | 属性加成生效 |
| **射击控制器** | 射速+10% | 25 | 攻速变化可感知 |
| **护盾强化** | 最大护盾+10 | 20 | 生存属性生效 |
| **装甲板** | 装甲+3 | 25 | 减伤计算正确 |
| **推进器** | 速度+10% | 20 | 移速变化可感知 |
| **资源回收器** | 资源回收+10 | 20 | 经济系统生效 |
| **杀戮快感** | 击毁回复1护盾 | 30 | 触发机制生效 |
| **等离子灼烧** | 20%几率DOT | 40 | 概率触发+状态生效 |

**🔑 模块系统验证清单**：

```
□ 购买模块后属性立即变化
□ 属性变化在战斗中可感知（伤害数字、攻速、移速）
□ 叠加购买效果正确累加
□ 触发类模块正确触发并显示反馈
□ 概率类模块多次攻击后触发
```

---

### 4. 敌人（4种）| 最小验证集

VS版本只需验证基础敌人AI：

| 敌人 | 护盾 | 伤害 | 速度 | 行为 | 验证目的 |
|------|------|------|------|------|----------|
| **突击舰** | 5 | 2 | 8 GU/s | 直线冲向玩家 | 基础追踪AI |
| **炮艇** | 8 | 4 | 4 GU/s | 保持6GU距离射击 | 远程攻击AI |
| **爆破舰** | 4 | 10 | 12 GU/s | 接近1GU后自爆 | 自爆机制 |
| **精英舰** | 30 | 8 | 6 GU/s | 追踪+高血量 | 小Boss体验 |

**🔑 敌人AI验证清单**：

```
□ 突击舰：以8GU/s速度直线冲向玩家（玩家速度的80%）
□ 炮艇：保持6GU距离，若玩家接近则后退
□ 爆破舰：以12GU/s速度冲向玩家，进入1GU范围后爆炸（爆炸半径2GU）
□ 精英舰：血量较高，需要多次攻击才能击毁
□ 敌舰被击毁时播放爆炸特效并掉落晶体
```

---

### 5. Boss（1种）

#### 虫族母舰（阶段10 Boss）

| 阶段 | 护盾 | 攻击模式 |
|------|------|----------|
| 100%-50% | 200 | 发射虫群+激光扫射 |
| 50%-20% | - | 召唤护卫舰+导弹风暴 |
| 20%-0% | - | 狂暴冲锋+全屏弹幕 |

---

### 6. 波次设计（5波极简版）

VS版本只需验证基础战斗循环：

| 波次 | 持续时间 | 敌人配置 | 验证目的 |
|------|----------|----------|----------|
| 1 | 30s | 突击舰×10 | 基础战斗可玩 |
| 2 | 40s | 突击舰×15 + 炮艇×3 | 多种敌人混战 |
| 3 | 50s | 突击舰×20 + 爆破舰×5 | 压力测试 |
| 4 | 60s | 混合×25 + 精英舰×1 | 小Boss体验 |
| 5 | 90s | **简易Boss** | 完整战斗循环 |

**🔑 战斗循环验证清单**：

```
□ 战斗开始：敌舰从屏幕边缘生成
□ 战斗中：多把武器同时自动射击，视觉爽感
□ 击毁敌舰：爆炸特效+掉落晶体
□ 拾取晶体：靠近自动拾取+数字反馈
□ 波次结束：所有敌舰清空→进入补给站
□ 补给站：购买武器/模块→返回战斗
□ Boss战：血条显示+多阶段/持续战斗
```

---

## 🛠️ 开发阶段

> **核心原则**：VS专注武器效果技术验证，不追求内容深度

### 第一阶段：武器效果原型（Week 1-2）🔑 核心阶段

**目标**：10种武器效果全部可玩

```
【程序 - 武器效果实现】
□ 直射：子弹直线飞行+命中检测
□ 弹道：导弹追踪算法
□ 穿透：射线检测穿过多目标
□ AOE：爆炸范围伤害计算
□ 连锁：目标搜索+跳跃逻辑
□ DOT：持续伤害状态管理
□ 击退：物理推力
□ 召唤：无人机AI跟随+攻击
□ 高射速：0.25s射速性能测试
□ 高伤害：大数字命中反馈

【程序 - 基础系统】
□ 战舰移动控制
□ 多武器同时射击
□ 基础敌人AI（追踪/远程/自爆）

【美术】
□ 1艘战舰模型
□ 4种敌人模型
□ 10种武器特效（每种效果对应）

【验证点】所有武器效果正确实现
```

### 第二阶段：战斗循环（Week 3-4）

**目标**：5波完整战斗 + 补给站

```
【程序】
□ 波次管理（5波）
□ 敌舰生成+掉落
□ 补给站系统（购买模块/武器）
□ 简易Boss
□ 战斗HUD

【美术】
□ UI界面（HUD/补给站）
□ 爆炸/击毁特效
□ 太空背景

【验证点】完整游戏循环可玩
```

### 第三阶段：打磨（Week 5）

**目标**：体验优化

```
□ 武器特效优化
□ 命中反馈优化（屏幕震动、伤害数字）
□ 音效集成
□ 性能优化
□ Bug修复
```

---

## 📊 VS内容统计

| 类别 | 数量 | 说明 |
|------|------|------|
| 战舰 | 2艘 | 先锋号（默认）、多面号（多武器） |
| 武器 | 10种 | 覆盖10种效果类型 |
| 模块 | 8种 | 最小验证集 |
| 敌人 | 4种 | 基础AI验证 |
| 波次 | 5波 | 含简易Boss |
| 单局时长 | 5-8分钟 | 快速验证 |

---

## 📐 空间单位系统

> **设计目标**：分辨率无关，易于理解，便于设计

### 为什么不用像素？

Brotato使用像素单位是因为其固定分辨率（960×540）。但我们需要支持多种分辨率，像素单位会导致：
- 高分辨率下距离看起来更短
- 策划数值难以直观理解
- 玩家无法理解"500像素射程"的含义

### 🔑 游戏单位（GU = Game Unit）

战舰是**横向长方形**（如游戏截图所示），为避免歧义，我们定义：

```
1 GU = 玩家战舰的短边（高度）

战舰示意图（俯视/横版）：
        ← 长边（约3 GU）→
       ┌─────────────────┐
1 GU → │  ◄══ 战舰 ══►   │
       └─────────────────┘
```

| 概念 | GU值 | 参考截图 |
|------|------|----------|
| **战舰高度（短边）** | **1 GU** | 基准单位 |
| **战舰长度（长边）** | **~3 GU** | 战舰头尾长度 |
| **能量晶体** | **~0.5 GU** | 截图中绿色发光方块 |
| **小型敌舰** | **~1 GU** | 截图左上黑色球体 |
| **屏幕宽度** | **~40 GU** | 横版屏幕约40个战舰高 |
| **屏幕高度** | **~22 GU** | 横版屏幕约22个战舰高 |

### 距离分类

| 距离类型 | GU值 | 直观描述 | 对照截图 |
|----------|------|----------|----------|
| **贴脸** | 0-1 GU | 几乎接触 | 敌舰触碰战舰 |
| **近距离** | 1-3 GU | 一个战舰长 | 约1个战舰长度 |
| **中距离** | 3-8 GU | 几个身位 | 战舰到最近晶体 |
| **远距离** | 8-20 GU | 四分之一屏 | 战舰到左上敌舰 |
| **超远** | 20+ GU | 半屏以上 | 接近屏幕边缘 |

### 速度单位（GU/秒）

| 速度类型 | GU/秒 | 直观描述 |
|----------|-------|----------|
| **玩家基础速度** | **10 GU/s** | 每秒移动10个战舰高度 |
| **慢速敌舰** | 3-5 GU/s | 玩家速度的30%-50% |
| **普通敌舰** | 5-8 GU/s | 玩家速度的50%-80% |
| **快速敌舰** | 8-10 GU/s | 接近玩家速度 |
| **极速敌舰** | 10-15 GU/s | 玩家无法甩开 |

### 武器射程（按GU）

| 武器 | 射程(GU) | 直观描述 |
|------|----------|----------|
| **速射力场** | 3 GU | 约1个战舰长度 |
| **冲击脉冲** | 5 GU | 近程打击 |
| **追踪导弹** | 15 GU | 约1/3屏幕宽 |
| **激光狙击** | 40 GU | 全屏贯穿 |
| **集束导弹爆炸半径** | 2 GU | 约2个战舰高度 |

### 单位换算公式（程序实现）

```
实际渲染距离 = GU值 × 战舰短边渲染尺寸

示例（1080p，战舰高度=48像素）：
- 3 GU射程 = 3 × 48 = 144像素

示例（4K，战舰高度=96像素）：
- 3 GU射程 = 3 × 96 = 288像素

结果：无论分辨率，射程始终是"3个战舰高度"
```

### 对玩家的展示

游戏内不显示GU数值，而是使用**直观描述**：

| 策划数值 | 玩家看到的描述 |
|----------|----------------|
| 射程 3 GU | "近程" |
| 射程 8 GU | "中程" |
| 射程 15 GU | "远程" |
| 射程 40 GU | "全屏" |
| 速度 +2 GU/s | "速度 +20%" |

---

### 战舰基础数值

| 属性 | 基础值 |
|------|--------|
| 最大护盾 | 25 |
| 武器槽位 | 6 |
| 移动速度 | 10 GU/s（100%）|

### 经济数值（简化版）

| 项目 | 数值 |
|------|------|
| 模块价格 | 20-40晶体 |
| 武器价格 | 30-50晶体 |
| 刷新成本 | 5晶体（固定） |
| 每波掉落 | 约50-100晶体 |

### 敌人成长

| 项目 | 公式 |
|------|------|
| 敌舰护盾 | 基础×(1+阶段^1.3×0.08) |
| 敌舰伤害 | 基础×(1+阶段^1.2×0.06) |

---

## ✅ 验收标准

### 核心功能验收

- [ ] 能完成完整5波战斗
- [ ] 2艘战舰均可选择
- [ ] **10种武器效果均正确实现**（核心验证目标）
- [ ] 8种模块效果正确生效
- [ ] 补给站系统完整可用
- [ ] 简易Boss可击败

### 🔑 武器效果验收（VS核心）

- [ ] **直射**：子弹直线飞行并命中
- [ ] **弹道**：导弹追踪敌舰
- [ ] **穿透**：激光穿过多个敌舰
- [ ] **AOE**：爆炸伤害多个敌舰
- [ ] **连锁**：攻击在敌舰间跳跃
- [ ] **DOT**：敌舰持续掉血
- [ ] **击退**：敌舰被推开
- [ ] **召唤**：无人机跟随并攻击
- [ ] **高射速**：0.25s射速无卡顿
- [ ] **高伤害**：大数字命中反馈

### 美术验收

- [ ] 1艘战舰3D模型风格明确
- [ ] 4种敌人外观可区分
- [ ] **10种武器特效可区分**（核心验证）
- [ ] 太空场景有层次感
- [ ] 爆炸/击毁效果有冲击力

### UI/UX验收

- [ ] 战斗HUD信息清晰，不遮挡战斗
- [ ] 补给站UI操作直观流畅
- [ ] 手机触屏操作舒适（虚拟摇杆响应灵敏）
- [ ] PC键鼠操作响应及时
- [ ] 不同分辨率下UI正常显示
- [ ] 按钮大小适合手指点击（最小44×44pt）

### 体验验收

- [ ] 至少3种不同Build可以通关
- [ ] 经济压力感知明确（前期投资vs后期购买）
- [ ] 难度曲线感知明确（前期轻松→后期紧张）
- [ ] 多武器射击有视觉爽感
- [ ] 单局时长控制在10-15分钟

### 体验验收

- [ ] 多武器同时射击有**视觉爽感**
- [ ] 敌舰爆炸有**冲击力反馈**
- [ ] 单局时长控制在**5-8分钟**
- [ ] 战斗节奏**紧张刺激**

### VS不验证的内容（留给后续版本）

| 内容 | 原因 |
|------|------|
| 多种战舰流派 | VS专注武器效果 |
| 复杂负面属性 | VS不追求深度 |
| 经济投资节奏 | VS简化为5波 |
| 目标优先级策略 | VS敌人种类少 |
| 武器叠加协同 | VS专注单一效果验证 |

---

## 📅 里程碑计划

| 周次 | 里程碑 | 交付物 | 验证目标 |
|------|--------|--------|----------|
| Week 1-2 | **武器效果原型** | 10种武器效果可玩 | 🔑 **核心技术验证** |
| Week 3-4 | 战斗循环 | 5波战斗+补给站 | 完整游戏循环 |
| Week 5 | 打磨 | 特效+反馈+Bug修复 | 体验优化 |

**总计**：5周完成VS技术验证

### 程序/美术并行安排

```
周次        程序                              美术
────────────────────────────────────────────────────────
Week 1-2   10种武器效果实现（核心）          1战舰+4敌人+10种武器特效
Week 3-4   战斗循环+补给站+Boss              UI界面+爆炸特效
Week 5     Bug修复+性能优化                  视觉打磨+音效
```

> **关键点**：Week 1-2 结束时 **10种武器效果全部可玩**

---

## 🎯 后续扩展路线

```
VS（技术验证）        v1.0（可玩版本）      v2.0（完整版）
─────────────────────────────────────────────────────
战舰：2艘            战舰：8艘            战舰：48艘
武器：10种（效果验证） 武器：25种           武器：68种
模块：8种            模块：40种           模块：144种
敌人：4种            敌人：12种           敌人：30+种
波次：5波            波次：15波           波次：20波+
Boss：1个（简易）     Boss：3个            Boss：8个
─────────────────────────────────────────────────────
重点：武器效果实现    重点：Build多样性    重点：内容丰富度
```

---

**文档版本**：v1.5  
**更新日期**：2025-12-31  
**状态**：待开发

### 更新记录

| 版本 | 日期 | 更新内容 |
|------|------|----------|
| v1.5 | 2025-12-31 | **空间单位系统**：新增GU（Game Unit）单位系统，1GU=战舰宽度，替代像素单位，分辨率无关；武器射程、敌人速度等均使用GU表示 |
| v1.4 | 2025-12-31 | **VS精简优化**：战舰2艘、武器10种（按效果类型）、模块8种、敌人4种、波次5波 |
| v1.3 | 2025-12-31 | 对标Brotato设计优化（战舰负面属性、武器协同、敌人优先级等） |
| v1.2 | 2025-12-30 | 简化开发阶段（10周→7周），程序美术并行 |
| v1.1 | 2025-12-30 | 增加3D渲染+横版2D规格、多平台支持 |
| v1.0 | 2025-12-30 | 初版创建 |

