# 1.3 属性系统

> 战舰所有属性的详细说明与计算公式

---

## 0. 空间单位系统（GU = Game Unit）

> **重要**：本游戏所有距离、速度使用 **GU（Game Unit）** 作为单位，实现分辨率无关的设计。

### 基准定义

```
1 GU = 玩家战舰的短边（高度）

战舰示意图（横版）：
        ← 长边（约3 GU）→
       ┌─────────────────┐
1 GU → │  ◄══ 战舰 ══►   │
       └─────────────────┘
```

### 参考尺寸

| 概念 | GU值 | 说明 |
|------|------|------|
| **战舰高度** | 1 GU | 基准单位 |
| **战舰长度** | ~3 GU | 战舰头尾长度 |
| **能量晶体** | ~0.5 GU | 掉落物 |
| **小型敌舰** | ~1 GU | 孢子虫等 |
| **屏幕宽度** | ~40 GU | 横版可视区域 |
| **屏幕高度** | ~22 GU | 横版可视区域 |

### 距离分类

| 类型 | GU值 | 玩家展示 | 用途 |
|------|------|----------|------|
| 贴脸 | 0-1 GU | — | 力场类武器 |
| 近程 | 1-3 GU | "近程" | 电弧/脉冲武器 |
| 中程 | 3-8 GU | "中程" | 导弹/激光 |
| 远程 | 8-20 GU | "远程" | 追踪/狙击 |
| 全屏 | 20+ GU | "全屏" | 贯穿激光 |

### 速度分类

| 类型 | GU/秒 | 说明 |
|------|-------|------|
| 玩家基础 | 10 GU/s | 每秒10个战舰高度 |
| 慢速敌舰 | 3-5 GU/s | 可轻松甩开 |
| 普通敌舰 | 5-8 GU/s | 玩家可甩开 |
| 快速敌舰 | 8-10 GU/s | 接近玩家速度 |
| 极速敌舰 | 10+ GU/s | 无法甩开 |

### 程序换算

```
实际渲染距离 = GU值 × 战舰短边渲染尺寸

示例（1080p，战舰高度=48像素）：3 GU = 144像素
示例（4K，战舰高度=96像素）：3 GU = 288像素
```

---

## 1. 属性分类

### 1.1 生存类属性

| 属性 | 英文 | 说明 | 基础值 | 上限 |
|------|------|------|--------|------|
| **最大护盾** | Max Shield | 战舰最大护盾值 | 25 | 无上限 |
| **护盾再生** | Shield Regen | 每秒回复 = 属性值÷10 | 0 | 无上限 |
| **能量吸收** | Energy Drain | 攻击回盾概率（上限10护盾/秒） | 0% | 100% |
| **装甲值** | Armor | 减少受到的伤害 | 0 | 无上限 |
| **规避率** | Evasion | 完全规避攻击概率 | 0% | 60%/90%* |

> *规避率上限默认60%，幽灵号等特殊战舰可达90%

### 1.2 攻击类属性

| 属性 | 英文 | 说明 | 基础值 | 上限 |
|------|------|------|--------|------|
| **火力输出** | Firepower | 基础伤害加成 | 0% | 无上限 |
| **射击频率** | Fire Rate | 武器攻击频率 | 0% | 无上限 |
| **精确打击** | Critical | 暴击概率 | 0% | 100% |
| **致命伤害** | Crit Damage | 暴击伤害倍率 | 100% | 无上限 |
| **火力范围** | Range | 额外攻击范围（GU） | 0 | 无上限 |
| **穿透力** | Piercing | 弹道穿透敌舰数 | 0 | 无上限 |

### 1.3 武器类型加成

| 属性 | 说明 | 影响武器 |
|------|------|----------|
| **近程强化** | 近程炮专属加成 | 力场/电弧/脉冲/近防/突击类 |
| **导弹强化** | 导弹专属加成 | 鱼雷/追踪弹/集束导弹等 |
| **能量武器** | 激光专属加成 | 离子炮/等离子/相位炮等 |
| **工程** | ⭐**召唤物专属加成** | 无人机/炮塔/空间站等 |

### 1.3.1 工程属性详解 ⭐新增（对标Brotato Engineering）

> **工程（Engineering）** 是所有召唤物的核心属性，类似Brotato的工程属性。

#### 工程影响的召唤物类型

| 召唤物类型 | 说明 | 代表武器/模块 |
|------------|------|---------------|
| **无人机** | 跟随战舰、自动出击攻击敌人 | 战斗无人机、轰炸无人机 |
| **炮塔** | 固定/跟随位置，持续攻击 | 防御炮塔、激光炮塔 |
| **战斗机** | 全图追踪敌舰 | 轻型战机、轰炸机 |
| **空间站** | （规划中）大型固定建筑 | 补给站、火力支援站 |
| **地雷** | （规划中）放置型陷阱 | 太空雷、磁力雷 |

#### 工程伤害计算

```
召唤物伤害 = 基础伤害 × (1 + 火力输出%) × (1 + 工程%)
```

**注意**：召唤物**同时受**火力输出和工程加成，但**不受**近程/导弹/能量武器加成。

#### 工程专属规则

| 规则 | 说明 | 与Brotato差异 |
|------|------|---------------|
| **✅ 触发能量吸收** | 召唤物攻击可回盾 | ⚡ 不同于Brotato |
| **不受射击频率影响** | 召唤物有独立攻速 | ✅ 与Brotato一致 |
| **受暴击影响** | 召唤物可以暴击 | ✅ 与Brotato一致 |
| **受DOT效果影响** | 召唤物可附加燃烧等 | ✅ 与Brotato一致 |

> **设计说明**：与Brotato不同，我们的召唤物攻击**可以触发能量吸收**，让工程流有更好的续航能力。

#### 工程流Build要点

| 要点 | 说明 |
|------|------|
| **堆工程属性** | 工程是召唤物伤害的核心来源 |
| **避免攻速模块** | 对召唤物无效，浪费资源 |
| **能量吸收有效** | ✅ 召唤物攻击可触发能量吸收 |
| **暴击有效** | 召唤物可以暴击，暴击流可兼容 |
| **数量vs品级** | 多把低级 vs 单把高级需权衡 |

### 1.4 功能类属性

| 属性 | 英文 | 说明 |
|------|------|------|
| **引擎推力** | Speed | 战舰移动速度（基础10 GU/s = 100%） |
| **战场运势** | Luck | 影响掉落/商店品质 |
| **资源回收** | Harvest | 能量晶体掉落加成 |
| **武器槽位** | Weapon Slots | 可装备武器数（标准6个，多面号12个） |
| **拾取范围** | Pickup Range | 自动拾取掉落物范围 |

---

## 2. 计算公式

### 2.1 伤害计算

```
最终伤害 = 武器基础伤害 
         × (1 + 火力输出%) 
         × (1 + 武器类型加成%)
         × (1 + 致命伤害%)  ← 仅暴击时
         - 敌舰装甲

最低伤害 = 1
```

**示例计算**：
- 武器基础伤害：10
- 火力输出：+50%
- 近程强化：+30%（近程武器时）
- 暴击触发，致命伤害：+100%

```
最终伤害 = 10 × 1.5 × 1.3 × 2.0 = 39
```

### 2.2 攻击间隔计算

```
实际攻击间隔 = 武器基础间隔 / (1 + 射击频率%)
```

**示例**：
- 武器基础间隔：1秒
- 射击频率：+100%

```
实际攻击间隔 = 1 / (1 + 1.0) = 0.5秒
```

### 2.3 装甲减伤

```
实际受到伤害 = 原始伤害 - 装甲值
(最低伤害 = 1)
```

### 2.4 DPS计算

```
DPS = (武器伤害 × 火力加成 × 类型加成 × 暴击系数) / 攻击间隔

暴击系数 = 1 + (暴击率% × 致命伤害%)
```

### 2.5 有效护盾

```
有效护盾 = 最大护盾 / [(1 - 规避率%) × (DPS - 装甲) / DPS] 
         + 护盾再生 × 存活时间
         + 能量吸收预期值
```

---

## 3. 属性阈值

### 3.1 规避率上限

| 情况 | 上限 |
|------|------|
| 普通战舰 | 60% |
| 幽灵号（SSC-02） | 90% |
| 其他特殊战舰 | 视被动技能 |

### 3.2 关键阈值（对标Brotato Wiki）

| 属性 | 阈值 | 意义 | 说明 |
|------|------|------|------|
| 暴击率 | 100% | 必定暴击 | 超过无意义 |
| 规避率 | 60%/90% | 普通/特殊上限 | 幽灵号可达90% |
| 能量吸收 | **每秒上限10护盾** | 吸收速度上限 | ⭐重要限制 |
| 攻速 | ∞ | 无硬上限 | 但配合吸收有边际递减 |
| 穿透 | 敌舰数 | 一击穿透所有敌舰 | 取决于场上敌人数 |

### 3.3 护盾再生与能量吸收详细机制（Wiki确认）⭐新增

#### 护盾再生（Shield Regen）

**公式**：
```
每秒回复护盾 = 护盾再生值 ÷ 10
```

| 护盾再生值 | 每秒回复 | 说明 |
|-----------|----------|------|
| 10 | 1 HP/s | 基准值 |
| 30 | 3 HP/s | 实用级别 |
| 50 | 5 HP/s | 较高回复 |
| 100 | 10 HP/s | 高回复 |

#### 能量吸收（Energy Drain）⭐重要

**核心规则**：
1. **每秒上限10护盾**：无论攻速多高，每秒最多回复10护盾
2. **同类弹道限制**：一次攻击的同类弹道只触发一次吸收
3. **不同武器可叠加**：6把武器 = 6次独立触发机会

**示例说明**：

| 武器类型 | 触发情况 | 原因 |
|----------|----------|------|
| 集束导弹（6发散射） | 只触发1次 | 同类弹道限制 |
| 6把速射力场 | 每把独立触发 | 不同武器可叠加 |
| 高攻速武器（10次/秒+） | 收益递减 | 每秒上限10护盾 |

**优化策略**：
- **攻速流**：高攻速+高能量吸收 = 稳定回盾
- **多武器流**：6把武器 = 更多触发机会
- **避免陷阱**：散射类武器能量吸收效率低

---

## 4. 边际效应

### 4.1 攻击类属性

攻击类属性叠加存在边际递减：
- 第一个+10%伤害 → 实际提升10%
- 叠加到+100%时，再+10% → 实际只提升5%

### 4.2 防御类属性

- **装甲**：对高伤害敌人效果有限
- **规避**：存在硬上限
- **护盾再生**：需配合生存时间

### 4.3 Build设计启示

| 流派 | 核心属性 | 边际考虑 |
|------|----------|----------|
| 暴击流 | 暴击率+致命伤害 | 100%暴击后堆致命伤害 |
| 攻速流 | 射击频率 | 配合能量吸收回盾 |
| 坦克流 | 装甲+护盾 | 注意敌人穿甲 |
| 规避流 | 规避率 | 注意60%上限 |

---

## 5. 术语对照表

| 原Brotato术语 | 星河舰长术语 |
|---------------|--------------|
| Max HP | 最大护盾 |
| HP Regen | 护盾再生 |
| Lifesteal | 能量吸收 |
| Armor | 装甲值 |
| Dodge | 规避率 |
| % Damage | 火力输出 |
| Attack Speed | 射击频率 |
| Crit Chance | 精确打击 |
| Melee Damage | 近程强化 |
| Ranged Damage | 导弹强化 |
| Elemental Damage | 能量武器 |
| Engineering | 工程 |
| Speed | 引擎推力 |
| Luck | 战场运势 |
| Harvesting | 资源回收 |

---

> 各战舰的具体属性加成请参阅 [2.1-战舰数据](../2-数值策划/2.1-战舰数据.md)


