# Brotato道具系统

## 道具系统概述

道具是Brotato中构筑的核心组成部分，提供各种增益效果，与武器、角色配合产生强大的协同作用。

**数据统计**（版本1.1.10.9）：
- **道具总数**：237种（201种原版 + 36种DLC）
- **品质等级**：4个等级（Tier 1-4）
- **详细数据**：请参阅[道具数据库](数据库/道具数据库.md)

---

## 道具品质系统

### 品质等级

| 等级 | 英文名 | 颜色 | 价格范围 | 效果强度 | 出现概率 |
|------|--------|------|----------|----------|----------|
| Tier 1 | Common | 灰色 | 8-30 | 基础 | 最高 |
| Tier 2 | Uncommon | 蓝色 | 30-60 | 中等 | 较高 |
| Tier 3 | Rare | 紫色 | 50-90 | 强力 | 较低 |
| Tier 4 | Legendary | 金色 | 90-130 | 极强 | 最低 |

### 品质特点

**Tier 1道具**：
- 效果简单直接
- 代价小或无
- 前期过渡选择
- 例：蛋糕(+3HP/-1%伤害, 15材料)

**Tier 2道具**：
- 属性组合更丰富
- 适度的代价
- 构筑核心备选
- 例：酸(+8HP/-2%闪避/-2击退, 65材料)

**Tier 3道具**：
- 效果显著
- 通常有明显代价
- 构筑核心道具
- 例：银弹(+25%对Boss, 70材料)

**Tier 4道具**：
- 独特强力效果
- 可能有限制(Limit=1)
- 改变构筑方向
- 例：专注(+30%伤害/每武器-3%攻速, 110材料)

---

## 道具分类

### 1. 可叠加道具（Stackable Items）
- **特点**：
  - 可以多次购买同一个道具
  - 效果叠加累积
  - 无购买次数限制（或限制较高）
  - 构建极端化构筑的基础

- **使用策略**：
  - 专注堆叠特定属性
  - 创造极端化构筑
  - 适合明确方向的玩法

- **例子**：惊恐香肠(Limit=4)、可爱猴子(Limit=13)

### 2. 唯一道具（Unique Items / Limit=1）
- **特点**：
  - 每种道具只能购买一次
  - 购买后不再出现在商店中
  - 通常效果独特且强力
  - 可能改变构筑方向

- **使用策略**：
  - 根据当前构筑选择合适的唯一道具
  - 某些唯一道具可以开启新的构筑思路
  - 需要理解道具的深层机制

- **例子**：肾上腺素、幸运硬币、血手

---

## 道具伤害缩放系统

### 缩放原理

许多道具的伤害效果会根据玩家属性进行缩放。Wiki中用图标标注缩放类型：

| 缩放类型 | 说明 | 适用场景 |
|----------|------|----------|
| +X%近战 | 伤害基于近战伤害属性缩放 | 近战流、爆炸流 |
| +X%远程 | 伤害基于远程伤害属性缩放 | 远程流 |
| +X%元素 | 伤害基于元素伤害属性缩放 | 燃烧流 |
| +X%工程 | 伤害基于工程值属性缩放 | 召唤流、工程流 |
| +X%幸运 | 效果基于幸运值属性缩放 | 触发流 |
| +X%最大生命 | 效果基于最大生命值缩放 | 坦克流 |
| +X%护甲 | 效果基于护甲值缩放 | 防御流 |

### 缩放实例

**惊恐香肠**（T1, 25材料）：
```
攻击25%几率造成3×1燃烧伤害(+100%元素)
```
- 基础：3次，每次1点燃烧
- 如果元素伤害+10，则每次造成1+10=11点燃烧

**小象**（T1, 22材料）：
```
拾取材料25%几率对随机敌人造成1伤害(+25%幸运)
```
- 基础：1点伤害
- 如果幸运+40，则造成1+10=11点伤害

**爆炸炮塔**（T4）：
```
生成炮塔发射爆炸弹，造成25(+150%工程)范围伤害
```
- 基础：25点伤害
- 如果工程+20，则造成25+30=55点伤害

### 缩放公式

```
实际伤害 = 基础伤害 + (属性值 × 缩放百分比)
```

例：基础10伤害，+50%工程缩放，工程值20
```
实际伤害 = 10 + (20 × 50%) = 10 + 10 = 20
```

---

## 道具类型

### 属性强化类道具

提升角色的基础属性，效果直接且稳定。

#### 生存属性
1. **最大生命值提升**
   - 增加生命上限
   - 最基础的生存保障
   - 几乎所有构筑都需要
   - 代表：蛋糕(T1)、酸(T2)、外星婴儿(T3)

2. **护甲提升**
   - 减少受到的伤害（1护甲≈-1伤害）
   - 后期对抗高伤害敌人的关键
   - 代表：头盔(T1)、金属板(T2)、链球(T3)

3. **闪避提升**
   - 增加闪避攻击的概率
   - 高闪避可以大幅提升生存能力
   - 上限60%，有不稳定性
   - 代表：眼罩(T2)、肾上腺素(T3)、斗篷(T4)

4. **生命恢复提升**
   - 增加每秒的生命恢复量
   - 提升持续作战能力
   - 代表：植物(T1)、悲伤番茄(T3)、再生药水(T4)

5. **生命偷取提升**
   - 攻击时有概率恢复生命
   - 1%偷取 = 1%概率恢复1点HP
   - 高攻速构筑的核心属性
   - 代表：蝙蝠(T1)、血蛭(T2)、血手(T4)

#### 攻击属性
1. **伤害加成（%）**
   - 全局伤害百分比提升
   - 适用于所有伤害类型
   - 代表：专注(T4, +30%)、玻璃大炮(T3, +25%)

2. **近战/远程/元素伤害**
   - 针对性提升特定类型
   - 元素伤害影响燃烧效果
   - 代表：合金(T3, +3全属性)、猛犸(T4, +20近战)

3. **攻击速度提升**
   - 增加所有武器的攻击频率
   - 配合生命偷取效果显著
   - 代表：咖啡(T1)、毒性滋补品(T3)

4. **暴击率/暴击伤害**
   - 暴击率上限：100%
   - 暴击伤害基础2x，可提升
   - 代表：太阳镜(T2, +10%)、夜视镜(T4, +15%)

#### 特殊属性
1. **幸运值提升**
   - 提高商店出现高品质物品的概率
   - 增加某些特效触发率
   - 代表：迷失鸭子(T1)、幸运符(T3)、熊猫(T4)

2. **收获提升**
   - 增加资源掉落量
   - 前期快速积累资源
   - 代表：拖拉机(T3, +40)、献血(T3, +40)

3. **工程提升**
   - 增强召唤物和建筑伤害
   - 影响多种道具效果缩放
   - 代表：书(T1)、齿轮(T2)、文凭(T4)

4. **移动速度提升**
   - 提高角色移动速度
   - 改善走位和生存能力
   - 代表：无檐帽(T1)、喷气背包(T4)

---

### 特殊效果类道具

提供独特的游戏机制或效果，是构筑多样化的关键。

#### 燃烧/元素类

| 道具 | 品质 | 效果 | 代价 |
|------|------|------|------|
| 惊恐香肠 | T1 | 攻击25%几率造成3×1燃烧(+100%元素) | 无 |
| 蛇 | T1 | 燃烧扩散到附近1个敌人 | -1最大生命 |
| 希腊火 | T4 | 燃烧额外造成敌人当前10%HP(Boss1%) | 无 |

#### 召唤/建筑类

| 道具 | 品质 | 效果 | 代价 |
|------|------|------|------|
| 地雷 | T1 | 每12秒生成地雷，10伤害(+100%工程) | 无 |
| 激光炮塔 | T3 | 生成炮塔，20穿透伤害(+125%工程) | 无 |
| 书堆 | T3 | 建筑可暴击, +3%暴击, +3工程 | 无 |

#### 触发/连锁类

| 道具 | 品质 | 效果 | 代价 |
|------|------|------|------|
| 小象 | T1 | 拾取材料25%几率造成1伤害(+25%幸运) | 无 |
| 赛博球 | T2 | 敌人死亡25%几率对随机敌人造成1伤害 | 无 |
| 线圈 | T3 | +5击退，每1击退+1%伤害 | 无 |

#### 防御/特殊类

| 道具 | 品质 | 效果 | 代价 |
|------|------|------|------|
| 缓步动物 | T3 | 每波抵消一次伤害 | 无 |
| 肾上腺素 | T3 | +5%闪避，闪避时50%恢复5HP | 无 |
| 沙漏 | T4 | 波次-1，下波开始1HP | 无 |

---

## 道具获取

### 获取途径

1. **商店购买**
   - 主要获取方式
   - 使用材料购买
   - 可以刷新商店内容（消耗材料）

2. **宝箱/箱子奖励**
   - 战斗中可能出现
   - 开启获得随机道具或材料
   - 袋子道具增加开箱材料

3. **解锁条件**
   - 部分道具需要解锁
   - 通常需要用特定角色通关
   - 解锁后才会出现在商店

---

## 道具标签系统

### 属性标签（Stat Tags）

标签决定道具的分类和与角色的协同：

| 标签 | 影响 | 相关角色 |
|------|------|----------|
| Max HP | 生命值相关 | 坦克角色 |
| HP Regeneration | 生命回复相关 | 生存向角色 |
| Life Steal | 生命偷取相关 | 攻速向角色 |
| Damage | 伤害相关 | 输出向角色 |
| Melee Damage | 近战伤害相关 | 近战角色 |
| Ranged Damage | 远程伤害相关 | 远程角色 |
| Elemental Damage | 元素伤害相关 | 元素/燃烧角色 |
| Attack Speed | 攻速相关 | 速射角色 |
| Crit Chance | 暴击相关 | 暴击角色 |
| Engineering | 工程相关 | 工程师 |
| Luck | 幸运相关 | 幸运角色 |
| Harvesting | 收获相关 | 收获向角色 |
| Dodge | 闪避相关 | 闪避角色 |
| Armor | 护甲相关 | 坦克角色 |
| Speed | 速度相关 | 机动角色 |

### 其他标签（Other Tags）

| 标签 | 说明 |
|------|------|
| Economy | 经济效果，增加材料获取 |
| Exploration | 探索效果，影响箱子等 |
| Structure | 建筑/召唤物相关 |
| Explosive | 爆炸效果相关 |
| Consumable | 消耗品相关效果 |
| Pickup | 拾取效果相关 |
| Stand Still | 站定时激活效果 |
| Curse (DLC) | 诅咒系统相关 |

---

## 道具与构筑

### 构筑核心道具

某些道具可以定义整个构筑方向：

#### 1. 燃烧流构筑
- **核心道具**：惊恐香肠(T1) + 蛇(T1) + 希腊火(T4)
- **目标**：最大化燃烧伤害和扩散
- **配合**：元素伤害道具、高攻速武器

#### 2. 工程/召唤流构筑
- **核心道具**：书堆 + 激光炮塔 + 口袋工厂
- **目标**：大量召唤物提供持续输出
- **配合**：工程属性道具

#### 3. 生命偷取流
- **核心道具**：血手(T4) + 斗篷(T4)
- **目标**：通过高攻速和偷取实现不死
- **配合**：攻速提升、多武器

#### 4. 暴击流构筑
- **核心道具**：夜视镜(T4) + 巨人腰带(T4) + 太阳镜(T2)
- **目标**：通过高额暴击秒杀敌人
- **配合**：高伤害武器、幸运属性

#### 5. 收获流构筑
- **核心道具**：拖拉机(T3) + 献血(T3) + 小青蛙(T2)
- **目标**：前期快速积累资源
- **配合**：生命回复道具（抵消献血代价）

---

### 道具选择策略

#### 前期（1-5波）
- 优先生存属性（生命值、护甲）
- 适当提升收获，积累资源
- 建立基础输出能力
- **推荐**：蛋糕、外星虫、优惠券

#### 中期（6-10波）
- 明确构筑方向
- 选择核心道具
- 平衡输出和生存
- **推荐**：根据构筑选择核心道具

#### 后期（11-15波）
- 专精化构筑
- 堆叠关键属性
- 减少收获投资，专注战斗属性
- **推荐**：专注、银弹等T3/T4道具

#### 终局（16-20波）
- 极限强化核心机制
- 补足构筑短板
- 应对Boss战
- **推荐**：银弹(+25%对Boss)、肾上腺素

---

## 道具协同机制

### 道具+武器协同

| 组合 | 效果 |
|------|------|
| 燃烧道具 + 高攻速武器 | 快速触发燃烧，最大化伤害 |
| 攻速道具 + 多武器 | 极限DPS |
| 工程道具 + 召唤武器 | 召唤大军 |
| 穿透道具 + 远程武器 | 群体伤害 |

### 道具+角色协同

| 组合 | 效果 |
|------|------|
| 幸运道具 + 幸运角色 | 极高品质掉落 |
| 工程道具 + 工程师 | 召唤流核心 |
| 暴击道具 + 高暴击角色 | 爆发伤害 |
| 生存道具 + 坦克角色 | 无敌堡垒 |

### 道具+道具协同

| 组合 | 效果 |
|------|------|
| 惊恐香肠 + 蛇 | 燃烧+扩散 |
| 血手 + 斗篷 | 偷取+闪避生存 |
| 拖拉机 + 献血 | 极限收获(需回复补偿) |
| 书堆 + 炮塔道具 | 建筑暴击 |

---

## 道具平衡设计

### 平衡原则

1. **代价机制**
   - 强力道具通常有负面效果
   - 需要玩家权衡利弊
   - 例：蛇提供燃烧扩散，但-1生命
   - 例：献血+40收获，但每秒-1HP

2. **限制机制**
   - 强力道具设置Limit=1
   - 部分道具有购买上限
   - 防止无限叠加破坏平衡

3. **价格调节**
   - T1: 8-30材料
   - T2: 30-60材料
   - T3: 50-90材料
   - T4: 90-130材料

4. **解锁条件**
   - 部分强力道具需要解锁
   - 通常需要特定角色通关
   - 增加游戏进程感

---

## 设计参考

基于Brotato的道具系统，设计道具时应考虑：

1. **功能性**：道具应有明确的功能和适用场景
2. **协同性**：鼓励与其他道具、武器、角色的协同
3. **代价性**：强力效果应伴随一定代价
4. **缩放性**：效果可以根据属性缩放，增加构筑深度
5. **标签性**：使用标签系统与角色特性关联
6. **平衡性**：避免必选道具和废弃道具的存在
