# Brotato武器系统

> **数据来源**：官方Wiki (https://brotato.wiki.spellsandguns.com/Weapons)
> **最后更新**：Patch 1.1.6.3

## 武器系统概述

武器是Brotato的核心战斗元素，玩家可同时携带**最多6种武器**，所有武器同时自动攻击敌人。

### 武器槽位特殊角色

| 角色 | 武器槽位 | 说明 |
|------|----------|------|
| 大多数角色 | 6个 | 标准配置 |
| One Armed（独臂） | 1个 | 只能使用1把武器 |
| Multitasker（多面手） | 12个 | 可以使用12把武器 |
| Bull（公牛） | 0个 | 不能使用武器 |
| Baby（婴儿） | 24个 | 每升1级获得1个槽位 |

---

## 武器类型

### 近战武器（Melee）- 天然AOE

- 挥动或突刺攻击敌人
- **天然AOE**：一次攻击可以同时命中**攻击范围内的所有敌人**
- 伤害受**近战伤害**属性加成
- 两种攻击方式（**都是AOE**）：
  - **Thrust（突刺）**：直线攻击，命中直线路径上的所有敌人（如Spear、Javelin）
  - **Sweep（横扫）**：弧形范围攻击，命中弧形范围内的所有敌人（如Ghost Axe、Sword）
- **范围属性特殊规则**：范围属性只改变近战武器射程的**一半**，且增加范围会略微降低攻速
- 攻击后武器会短暂返回玩家（有攻击间隔）

### 远程武器（Ranged）- 天然单体

- 发射弹道攻击敌人
- **天然单体**：每发弹道**只能命中1个敌人**
- 伤害受**远程伤害**属性加成
- **变成AOE的方式**：
  - **Bounce（反弹）**：弹道在敌人间反弹，每次反弹命中1个新敌人
  - **Piercing（穿透）**：弹道穿透敌人继续飞行，命中排列的多个敌人
  - **Explosion（爆炸）**：弹道命中后产生范围爆炸，爆炸范围内全部命中
- 通常有更高的单体DPS和更快的攻速

---

## 单体与AOE命中机制详解

### 核心规则

| 武器类型 | 默认命中 | 说明 |
|----------|----------|------|
| **近战武器** | **AOE（多体）** | 攻击范围内的所有敌人都会被命中 |
| **远程武器** | **单体** | 每发弹道只命中1个敌人 |

### 远程武器变AOE的方法

#### 1. Bounce（反弹）

- 弹道命中敌人后，反弹到附近另一个敌人
- 反弹次数由武器或道具决定（通常1-5次）
- 每次反弹命中1个敌人
- **典型武器**：Slingshot（弹弓）自带1次反弹

#### 2. Piercing（穿透）

- 弹道穿透敌人继续飞行
- 穿透次数由武器或道具决定
- 适合敌人排列成线的情况
- **典型武器**：Laser Gun、Javelin、Crossbow暴击时穿透

#### 3. Explosion（爆炸）

- 弹道命中产生范围爆炸
- 爆炸范围内的所有敌人都受到伤害
- 爆炸范围受**Explosive Class套装**加成
- **典型武器**：Grenade Launcher、Rocket Launcher、Fireball

#### 4. 多弹道（Multi-projectile）

- 一次攻击发射多发弹道
- 每发弹道仍然是单体命中
- 多发弹道 + 反弹/穿透 = 大量命中
- **典型武器**：Double Barrel Shotgun（5发）、Shredder（3-6发）

### 命中数量对比

| 情况 | 单次攻击最大命中数 |
|------|---------------------|
| 纯远程（无特效） | 1个敌人 |
| 远程 + 3次反弹 | 4个敌人 |
| 远程 + 穿透 | 取决于敌人排列（理论无限） |
| 远程 + 爆炸 | 爆炸范围内全部 |
| 霰弹枪5发 + 3次反弹 | 5 × 4 = 20个敌人 |
| 近战武器 | 攻击范围内全部（无上限） |

### 策略意义

| 场景 | 推荐武器类型 |
|------|--------------|
| **密集敌群** | 近战（天然AOE）、爆炸武器 |
| **精英/Boss单体** | 远程（高单体DPS） |
| **混合场景** | 霰弹枪+反弹、穿透激光 |
| **生命偷取Build** | 高攻速远程（更多触发次数） |
| **击杀触发Build** | 近战（一次可击杀多个） |

### 特殊情况

1. **Structure（炮塔/建筑）**：通常是远程单体，但部分有爆炸效果
2. **闪电武器**：命中后生成跳跃闪电，类似自动反弹
3. **分裂武器**：命中后分裂成多个子弹道（如Shredder）
4. **召唤武器**：召唤物有独立的攻击方式

---

## 武器品级系统（Tier）

武器有4个品级，每个品级有不同的属性数值：

| 品级 | 颜色 | 英文名 | 说明 |
|------|------|--------|------|
| Tier 1 | 灰色 | Common（普通） | 基础属性，价格便宜 |
| Tier 2 | 蓝色 | Uncommon（罕见） | 属性提升，中期主力 |
| Tier 3 | 紫色 | Rare（稀有） | 高属性，中后期核心 |
| Tier 4 | 红色 | Legendary（传说） | 最高属性，构筑终极目标 |

### 品级影响

- **基础伤害**：品级越高，基础伤害越高
- **伤害缩放**：高品级武器的属性缩放比例更高
- **攻击速度**：部分武器高品级攻速更快
- **暴击属性**：暴击率和暴击伤害倍率随品级提升
- **射程**：部分武器射程随品级增加
- **价格**：高品级武器价格更贵

### 武器合成

- 购买已拥有的**相同品级相同武器** → 自动合成为**高1品级**的武器
- 例：2把T1小刀 → 1把T2小刀
- 合成后武器数量减少1把
- 无额外费用（仅需支付第2把武器价格）
- **策略考量**：需权衡"2把低级"的多次攻击 vs "1把高级"的高伤害

---

## 武器属性详解

### 核心属性

#### 1. 伤害（Damage）

- **基础伤害**：武器的固定伤害值
- **伤害缩放**：武器伤害会按百分比缩放于角色属性
  - 例：`20(80%近战伤害)` 表示基础20点伤害 + 80%的近战伤害属性
  - 如果角色有30点近战伤害：20 + (30 × 0.8) = 20 + 24 = **44点伤害**
- **多重缩放**：部分武器同时缩放多个属性
  - 例：Brick伤害缩放`50%近战伤害 + 50%工程`

#### 2. 攻击速度（Attack Speed）

- 单位：秒/次攻击
- 范围：0.15s（极快）到 2.5s（极慢）
- 影响DPS和生命偷取触发频率

##### 攻速上限

- **远程武器**：最快每秒攻击**12次**（0.083s/次）
- **近战武器**：攻速上限更低（约每秒8-10次）
- **炮塔/建筑**：不受Attack Speed属性影响

##### 攻速与Range的关系（近战专属）

对于近战武器，增加Range属性会**降低攻速**：
- 武器挥动/突刺需要覆盖更大距离
- 动画时间变长，攻击间隔增加
- 这是近战Range收益减半的另一个原因

##### Attack Speed属性的收益递减

Attack Speed属性存在**边际效应递减**：
- 低攻速武器（如锤子）从+攻速获益更多
- 高攻速武器（如SMG）从+攻速获益较少
- 负Attack Speed的惩罚比正值的加成更轻

#### 3. DPS（每秒伤害）

- 计算公式：`伤害(缩放) / 攻击速度`
- 不包含暴击和特殊效果

#### 4. 暴击（Critical）

- **暴击率（Crit Chance）**：触发暴击的概率（1%-50%）
- **暴击伤害（Crit Damage）**：暴击时的伤害倍率（x1.5-x4）
- 大部分武器默认x2倍暴击伤害
- 特殊武器如Knife可达x4倍

#### 5. 射程/攻击范围（Range）

武器的**攻击范围**是决定武器有效性的关键属性，近战和远程武器的范围机制完全不同。

##### 范围数值的含义

- 游戏中的范围单位是**像素**
- 玩家角色大约**32像素**宽
- 屏幕可视范围约**960x540像素**（横向约30个角色宽）

##### 近战武器的攻击范围

| 攻击方式 | 说明 | 典型武器 | 范围特点 |
|----------|------|----------|----------|
| **Thrust（突刺）** | 向前方直线攻击 | Spear, Javelin, Jousting Lance | 窄而长，前方敌人 |
| **Sweep（横扫）** | 角色周围弧形挥动 | Ghost Axe, Sword, Hammer | 宽弧形，周围敌人 |

**近战范围数值参考**：
- 拳头类（Fist）：约150像素
- 剑类（Sword）：175-225像素
- 长枪类（Spear）：350-500像素（最长的近战武器）
- 斧头类（Axe）：175-250像素

##### 远程武器的射程

远程武器的Range表示**弹道飞行的最大距离**，超过射程弹道会消失。

**远程射程数值参考**：
- 手枪类（Pistol）：400-500像素
- 冲锋枪（SMG）：400像素（固定）
- 狙击枪（Sniper）：800-1000像素（最远）
- 霰弹枪（Shotgun）：275-350像素（较短）
- 火焰喷射器：200-250像素（很短）

##### Range属性对武器的影响

玩家的**Range属性**会修改武器的攻击范围，但**近战和远程有不同规则**：

| 武器类型 | Range属性效果 | 副作用 |
|----------|---------------|--------|
| **远程武器** | +X Range = 射程+X像素 | 无 |
| **近战武器** | +X Range = 射程+X/2像素（**减半**） | **攻速降低**（挥动距离更长） |

**公式**：
- 远程射程 = 武器基础射程 + Range属性
- 近战射程 = 武器基础射程 + (Range属性 ÷ 2)
- 近战攻速惩罚 = 射程每增加一定距离，攻击间隔增加

##### 最小与最大范围限制

- **最小范围**：25像素（即使负Range也不会低于此值）
- **最大范围**：无上限，但过大射程可能导致弹道命中率下降

##### 爆炸武器的爆炸半径

爆炸武器有两个范围概念：
1. **射程（Range）**：弹道飞行距离
2. **爆炸半径（Explosion Radius）**：爆炸伤害范围

| 武器 | 射程 | 爆炸半径 |
|------|------|----------|
| Grenade Launcher | 350-450 | 中等 |
| Rocket Launcher | 400-500 | 大 |
| Nuclear Launcher | 500-550 | 超大 |

**Explosive Class套装**可增加爆炸半径（+5%/+25%）

##### 范围与构筑策略

| 策略 | 推荐范围 | 说明 |
|------|----------|------|
| **近身肉搏** | 低Range | 近战攻速不受影响，高风险高输出 |
| **安全风筝** | 高Range | 远程保持距离，降低受伤风险 |
| **爆炸清场** | 中Range | 爆炸半径比射程更重要 |
| **狙击流** | 极高Range | 狙击枪+Range属性，全屏攻击 |

##### 实战建议

1. **纯近战流**：不要堆Range属性，因为会降低攻速
2. **纯远程流**：Gun类套装+Range属性，扩大射程优势
3. **混合流**：Range属性对远程武器收益更大
4. **爆炸流**：优先堆爆炸半径而非射程

#### 6. 击退（Knockback）

- 攻击时推开敌人的力度
- 范围：0-30
- 0表示不击退

#### 7. 生命偷取（Lifesteal）

- 武器自带的生命偷取比例
- 大部分武器默认0%
- 配合高攻速武器效果显著

---

## 武器Class系统（套装）

每把武器属于1-2个Class，收集同Class武器可获得套装加成。

### 武器Class一览（17种）

| Class | 中文名 | 2把加成 | 6把加成 |
|-------|--------|---------|---------|
| **Blade** | 刀刃类 | +1近战伤害, +1%生命偷取 | +5近战伤害, +5%生命偷取 |
| **Blunt** | 钝器类 | +1护甲, -2%速度 | +3护甲, +6最大生命, -10%速度 |
| **Elemental** | 元素类 | +1元素伤害 | +5元素伤害 |
| **Ethereal** | 虚灵类 | +6%闪避, -1护甲 | +30%闪避, -5护甲 |
| **Explosive** | 爆炸类 | +5%爆炸范围 | +25%爆炸范围 |
| **Gun** | 枪械类 | +10射程 | +50射程 |
| **Heavy** | 重型类 | +5%伤害 | +25%伤害 |
| **Legendary** | 传说类 | -20最大生命 | -100最大生命 |
| **Medical** | 医疗类 | +1生命恢复 | +5生命恢复 |
| **Medieval** | 中世纪类 | +1护甲 | +3护甲, +6%闪避 |
| **Musical** | 音乐类 | +5幸运 | +25幸运 |
| **Naval** | 海军类 | +1诅咒 | +5诅咒 |
| **Precise** | 精准类 | +3%暴击率 | +15%暴击率 |
| **Primitive** | 原始类 | +3最大生命 | +15最大生命 |
| **Support** | 支援类 | +5收获 | +25收获 |
| **Tool** | 工具类 | +1工程 | +5工程 |
| **Unarmed** | 徒手类 | +3%闪避 | +15%闪避 |

### Class机制说明

1. **套装加成**：2/3/4/5/6把同Class武器逐级提升加成
2. **商店概率**：持有某Class武器后，商店有**15%概率**刷出同Class武器
3. **多Class武器**：如Scissors同属Precise和Medical，持有它会提高两个Class武器的出现率
4. **策略考量**：过多不同Class可能稀释商店池

---

## 武器特效

### 弹道特效

| 特效 | 说明 |
|------|------|
| **Bounce（反弹）** | 弹道在敌人间反弹，命中更多目标 |
| **Piercing（穿透）** | 弹道穿透敌人，命中排列的多个目标 |
| **Homing（追踪）** | 弹道自动追踪敌人 |
| **Explosion（爆炸）** | 命中时产生范围爆炸 |

### 状态特效

| 特效 | 说明 |
|------|------|
| **Burning（燃烧）** | 造成持续火焰伤害 |
| **Freeze/Slow（冰冻/减速）** | 降低敌人移动速度 |
| **Lightning（闪电）** | 连锁跳跃到附近敌人 |
| **Poison（中毒）** | 持续毒素伤害 |

### 特殊机制

| 特效 | 说明 |
|------|------|
| **Summon（召唤）** | 生成炮塔或召唤物 |
| **On Kill（击杀时）** | 击杀敌人触发效果（如幽魂武器） |
| **材料掉落** | 暴击或击杀时额外掉落材料 |

---

## 武器获取

### 商店购买

- **主要获取方式**
- 每波结束后刷新商店
- 可花费材料刷新商店
- 武器价格随品级提升

### 武器价格参考

| 品级 | 基础价格范围 |
|------|--------------|
| T1（普通） | 12-20材料 |
| T2（罕见） | 26-51材料 |
| T3（稀有） | 52-115材料 |
| T4（传说） | 105-245材料 |

### 解锁条件

部分武器需要完成特定条件解锁：
- 使用特定角色通关
- 达成特定成就
- 默认解锁（Default）
- DLC武器需购买DLC

---

## 武器与角色的关系

### 角色限制

- 某些角色只能使用特定类型武器
- 例：Gladiator只能用近战，且必须是不同武器

### 伤害缩放

- **近战伤害**属性只加成近战武器
- **远程伤害**属性只加成远程武器
- **元素伤害**属性加成元素类武器
- **工程**属性加成部分炮塔/建筑武器
- **护甲**属性加成部分防御型武器

### 构筑方向

| 流派 | 推荐Class | 核心属性 |
|------|-----------|----------|
| 暴击流 | Precise | 暴击率、暴击伤害 |
| 攻速流 | Gun | 攻速、生命偷取 |
| 元素流 | Elemental | 元素伤害 |
| 爆炸流 | Explosive | 爆炸伤害、爆炸范围 |
| 近战流 | Blade, Medieval | 近战伤害、护甲 |
| 远程流 | Gun, Precise | 远程伤害、射程 |
| 工程流 | Tool | 工程 |
| 生存流 | Blunt, Medical | 护甲、生命恢复 |

---

## 设计要点总结

1. **伤害缩放机制**：武器伤害 = 基础伤害 + (属性 × 缩放比例)
2. **Class套装系统**：鼓励收集同类武器获取加成
3. **品级合成**：2把同品级合成为高1级
4. **近战vs远程**：近战天然AOE高风险，远程天然单体更安全
5. **攻速与DPS**：高攻速配合生命偷取，高单发配合暴击
6. **武器多样性**：77+种武器，无绝对最强，鼓励探索组合
7. **范围机制差异**：Range属性对近战只有一半效果且降低攻速，对远程全额生效
8. **近战攻击方式**：Thrust（突刺）打直线，Sweep（横扫）打弧形范围
9. **命中机制核心差异**：近战天然AOE（范围内全中），远程天然单体（需反弹/穿透/爆炸变AOE）

